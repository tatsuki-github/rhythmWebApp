<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" href="/rhythmWebApp/favicon.ico"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="description" content="Web site created using create-react-app"/><link rel="apple-touch-icon" href="/rhythmWebApp/logo192.png"/><link rel="manifest" href="/rhythmWebApp/manifest.json"/><title>リズムづくり</title><script defer="defer" src="/rhythmWebApp/static/js/main.a7028c19.js"></script><link href="/rhythmWebApp/static/css/main.40a245f2.css" rel="stylesheet"></head><body><div class="rhythmImg" id="rhythmImgFirst"><p>①</p><img src="img/rhythm1.png" id="rhythm-0"><p>②</p><img src="img/rhythm2.png" id="rhythm-1"><p>③</p><img src="img/rhythm3.png" id="rhythm-2"></div><div class="rhythmImg"><p>④</p><img src="img/rhythm4.png" id="rhythm-3"><p>⑤</p><img src="img/rhythm5.png" id="rhythm-4"><p>⑥</p><img src="img/rhythm6.png" id="rhythm-5"></div><div class="numbers"><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p id="numberLast">終わり方</p></div><div class="part" id="first"><select id="rhythm_0" class="rhythm"><option value="rhythm0" selected="selected">①</option><option value="rhythm1">②</option><option value="rhythm2">③</option><option value="rhythm3">④</option><option value="rhythm4">⑤</option><option value="rhythm5">⑥</option></select> <img src="img/rhythm1.png" id="rhythmImg0"><div class="item"><select id="rhythm0" class="rhythm"><option value="off" selected="selected"></option><option value="on">●</option></select> <select id="rhythm1" class="rhythm"><option value="off" selected="selected"></option><option value="on">●</option></select> <select id="rhythm2" class="rhythm"><option value="off" selected="selected"></option><option value="on">●</option></select><div class="beat"><select id="rhythm3" class="rhythm"><option value="off" selected="selected"></option><option value="on">●</option></select></div><select id="rhythm4" class="rhythm"><option value="off" selected="selected"></option><option value="on">●</option></select> <select id="rhythm5" class="rhythm"><option value="off" selected="selected"></option><option value="on">●</option></select> <select id="rhythm6" class="rhythm"><option value="off" selected="selected"></option><option value="on">●</option></select> <select id="rhythm7" class="rhythm"><option value="off" selected="selected"></option><option value="on">●</option></select> <select id="rhythm8" class="rhythm"><option value="off" selected="selected"></option><option value="on">●</option></select> <select id="rhythm9" class="rhythm"><option value="off" selected="selected"></option><option value="on">●</option></select> <select id="rhythm10" class="rhythm"><option value="off" selected="selected"></option><option value="on">●</option></select> <img src="img/rhythm7.png" class="lastRhythmImg"></div></div><div class="part" id="second"><select id="rhythm_1" class="rhythm"><option value="rhythm0" selected="selected">①</option><option value="rhythm1">②</option><option value="rhythm2">③</option><option value="rhythm3">④</option><option value="rhythm4">⑤</option><option value="rhythm5">⑥</option></select> <img src="img/rhythm1.png" id="rhythmImg1"><div class="item"><select id="rhythm11" class="rhythm"><option value="off" selected="selected"></option><option value="on">▲</option></select> <select id="rhythm12" class="rhythm"><option value="off" selected="selected"></option><option value="on">▲</option></select> <select id="rhythm13" class="rhythm"><option value="off" selected="selected"></option><option value="on">▲</option></select> <select id="rhythm14" class="rhythm"><option value="off" selected="selected"></option><option value="on">▲</option></select> <select id="rhythm15" class="rhythm"><option value="off" selected="selected"></option><option value="on">▲</option></select> <select id="rhythm16" class="rhythm"><option value="off" selected="selected"></option><option value="on">▲</option></select> <select id="rhythm17" class="rhythm"><option value="off" selected="selected"></option><option value="on">▲</option></select> <select id="rhythm18" class="rhythm"><option value="off" selected="selected"></option><option value="on">▲</option></select> <select id="rhythm19" class="rhythm"><option value="off" selected="selected"></option><option value="on">▲</option></select> <select id="rhythm20" class="rhythm"><option value="off" selected="selected"></option><option value="on">▲</option></select> <select id="rhythm21" class="rhythm"><option value="off" selected="selected"></option><option value="on">▲</option></select> <img src="img/rhythm7.png" class="lastRhythmImg"></div></div><div class="part" id="third"><select id="rhythm_2" class="rhythm"><option value="rhythm0" selected="selected">①</option><option value="rhythm1">②</option><option value="rhythm2">③</option><option value="rhythm3">④</option><option value="rhythm4">⑤</option><option value="rhythm5">⑥</option></select> <img src="img/rhythm1.png" id="rhythmImg2"><div class="item"><select id="rhythm22" class="rhythm"><option value="off" selected="selected"></option><option value="on">■</option></select> <select id="rhythm23" class="rhythm"><option value="off" selected="selected"></option><option value="on">■</option></select> <select id="rhythm24" class="rhythm"><option value="off" selected="selected"></option><option value="on">■</option></select> <select id="rhythm25" class="rhythm"><option value="off" selected="selected"></option><option value="on">■</option></select> <select id="rhythm26" class="rhythm"><option value="off" selected="selected"></option><option value="on">■</option></select> <select id="rhythm27" class="rhythm"><option value="off" selected="selected"></option><option value="on">■</option></select> <select id="rhythm28" class="rhythm"><option value="off" selected="selected"></option><option value="on">■</option></select> <select id="rhythm29" class="rhythm"><option value="off" selected="selected"></option><option value="on">■</option></select> <select id="rhythm30" class="rhythm"><option value="off" selected="selected"></option><option value="on">■</option></select> <select id="rhythm31" class="rhythm"><option value="off" selected="selected"></option><option value="on">■</option></select> <select id="rhythm32" class="rhythm"><option value="off" selected="selected"></option><option value="on">■</option></select> <img src="img/rhythm7.png" class="lastRhythmImg"></div></div><div class="part" id="forth"><select id="rhythm_3" class="rhythm"><option value="rhythm0" selected="selected">①</option><option value="rhythm1">②</option><option value="rhythm2">③</option><option value="rhythm3">④</option><option value="rhythm4">⑤</option><option value="rhythm5">⑥</option></select> <img src="img/rhythm1.png" id="rhythmImg3"><div class="item"><select id="rhythm33" class="rhythm"><option value="off" selected="selected"></option><option value="on">★</option></select> <select id="rhythm34" class="rhythm"><option value="off" selected="selected"></option><option value="on">★</option></select> <select id="rhythm35" class="rhythm"><option value="off" selected="selected"></option><option value="on">★</option></select> <select id="rhythm36" class="rhythm"><option value="off" selected="selected"></option><option value="on">★</option></select> <select id="rhythm37" class="rhythm"><option value="off" selected="selected"></option><option value="on">★</option></select> <select id="rhythm38" class="rhythm"><option value="off" selected="selected"></option><option value="on">★</option></select> <select id="rhythm39" class="rhythm"><option value="off" selected="selected"></option><option value="on">★</option></select> <select id="rhythm40" class="rhythm"><option value="off" selected="selected"></option><option value="on">★</option></select> <select id="rhythm41" class="rhythm"><option value="off" selected="selected"></option><option value="on">★</option></select> <select id="rhythm42" class="rhythm"><option value="off" selected="selected"></option><option value="on">★</option></select> <select id="rhythm43" class="rhythm"><option value="off" selected="selected"></option><option value="on">★</option></select> <img src="img/rhythm7.png" class="lastRhythmImg"></div></div><div class="buttons"><select id="tempo_category"><option value="tempo75">&#9833; = 75</option><option value="tempo95" selected="selected">&#9833; = 95</option><option value="tempo115">&#9833; = 115</option></select> <select id="play_mode"><option value="3personMode" selected="selected">3人再生モード</option><option value="4personMode">4人再生モード</option><option value="1personMode1">１人目再生モード</option><option value="1personMode2">２人目再生モード</option><option value="1personMode3">３人目再生モード</option><option value="1personMode4">４人目再生モード</option></select> <button id="play"></button> <button id="stop"></button></div><script src="https://unpkg.com/tone@14.7.77/build/Tone.js"></script><script>window.addEventListener("load",(function(){colorChange(),changeRhythm()}),!1),document.getElementById("play").addEventListener("click",(function(){play()}),!1),document.getElementById("stop").addEventListener("click",(function(){refresh(),btnAble()}),!1);const tempo_category=document.getElementById("tempo_category"),rhythmCategory=[rhythm0,rhythm1,rhythm2,rhythm3,rhythm4,rhythm5,rhythm6,rhythm7,rhythm8,rhythm9,rhythm10,rhythm11,rhythm12,rhythm13,rhythm14,rhythm15,rhythm16,rhythm17,rhythm18,rhythm19,rhythm20,rhythm21,rhythm22,rhythm23,rhythm24,rhythm25,rhythm26,rhythm27,rhythm28,rhythm29,rhythm30,rhythm31,rhythm32,rhythm33,rhythm34,rhythm35,rhythm36,rhythm37,rhythm38,rhythm39,rhythm40,rhythm41,rhythm42,rhythm43],selectRhythmCategory=[rhythm_0,rhythm_1,rhythm_2,rhythm_3],play_mode=document.getElementById("play_mode");function refresh(){Tone.Transport.stop(),Tone.Transport.cancel()}tempo_category.onchange=refresh,rhythm_0.onchange=changeRhythm,rhythm_1.onchange=changeRhythm,rhythm_2.onchange=changeRhythm,rhythm_3.onchange=changeRhythm,play_mode.onchange=refresh,play_mode.onchange=changeDisplay;const rhythmLists=[[{time:"0:0",duration:"2n"},{time:"0:2",duration:"2n"},{time:"1:0",duration:"1m"}],[{time:"0:1",duration:"4n"},{time:"0:3",duration:"4n"},{time:"1:1",duration:"4n"},{time:"1:3",duration:"4n"}],[{time:"0:0",duration:"4n"},{time:"0:1",duration:"8n"},{time:"0:1.5",duration:"8n"},{time:"0:2",duration:"4n"},{time:"1:0",duration:"4n"},{time:"1:1",duration:"8n"},{time:"1:1.5",duration:"8n"},{time:"1:2",duration:"4n"}],[{time:"0:0",duration:"8n"},{time:"0:0.5",duration:"8n"},{time:"0:1",duration:"8n"},{time:"0:1.5",duration:"8n"},{time:"0:2",duration:"8n"},{time:"0:2.5",duration:"8n"},{time:"0:3",duration:"8n"},{time:"0:3.5",duration:"8n"},{time:"1:0",duration:"8n"},{time:"1:0.5",duration:"8n"},{time:"1:1",duration:"8n"},{time:"1:1.5",duration:"8n"},{time:"1:2",duration:"8n"},{time:"1:2.5",duration:"8n"},{time:"1:3",duration:"8n"},{time:"1:3.5",duration:"8n"}],[{time:"0:0",duration:"3n"},{time:"0:1.5",duration:"8n"},{time:"0:2",duration:"4n"},{time:"1:0",duration:"3n"},{time:"1:1.5",duration:"8n"},{time:"1:2",duration:"4n"}],[{time:"0:0",duration:"3n"},{time:"0:1.5",duration:"3n"},{time:"0:3",duration:"4n"},{time:"1:1",duration:"4n"},{time:"1:2",duration:"4n"}],[{time:"0:0",duration:"4n"}],[{note:"A4",time:"0:0",duration:"4n"},{note:"A4",time:"0:1",duration:"4n"},{note:"A4",time:"0:2",duration:"4n"},{note:"A5",time:"0:3",duration:"4n"}]];function btnDisable(){document.getElementById("play").disabled=!0,document.getElementById("play").style.backgroundColor="#C0C0C0",clearInterval(statusDis)}function btnAble(){document.getElementById("play").disabled=!1,document.getElementById("play").style.backgroundColor="#ff7e00",clearInterval(statusAble),refresh()}function changeButtonStatus(){switch(statusDis=setInterval(btnDisable,0),tempo_category.value){case"tempo75":statusAble=setInterval(btnAble,75e3);break;case"tempo95":default:statusAble=setInterval(btnAble,6e4);break;case"tempo115":statusAble=setInterval(btnAble,5e4)}}function play(){switch(changeTempo(),changeRhythm(),changeButtonStatus(),metronome(),Tone.Transport.start(),play_mode.value){case"3personMode":melody1(),melody2(),melody3();break;case"4personMode":melody1(),melody2(),melody3(),melody4();break;case"1personMode1":melody1();break;case"1personMode2":melody2();break;case"1personMode3":melody3();break;case"1personMode4":melody4()}}function changeTempo(){switch(tempo_category.value){case"tempo75":Tone.Transport.bpm.value=75;break;case"tempo95":default:Tone.Transport.bpm.value=95;break;case"tempo115":Tone.Transport.bpm.value=115}}function changeDisplay(){switch(play_mode.value){case"3personMode":allDisplayVisible(),document.getElementById("forth").style.visibility="hidden";break;case"4personMode":allDisplayVisible();break;case"1personMode1":allDisplayHidden(),document.getElementById("first").style.visibility="visible";break;case"1personMode2":allDisplayHidden(),document.getElementById("second").style.visibility="visible";break;case"1personMode3":allDisplayHidden(),document.getElementById("third").style.visibility="visible";break;case"1personMode4":allDisplayHidden(),document.getElementById("forth").style.visibility="visible"}}function allDisplayVisible(){document.getElementById("first").style.visibility="visible",document.getElementById("second").style.visibility="visible",document.getElementById("third").style.visibility="visible",document.getElementById("forth").style.visibility="visible"}function allDisplayHidden(){document.getElementById("first").style.visibility="hidden",document.getElementById("second").style.visibility="hidden",document.getElementById("third").style.visibility="hidden",document.getElementById("forth").style.visibility="hidden"}document.getElementById("rhythm-0").addEventListener("click",(function(){changeTempo();const t=(new Tone.Synth).toDestination();new Tone.Part((function(e,n){t.triggerAttackRelease("E4",n.duration,e)}),rhythmLists[0]).start();Tone.Transport.start()}),!1),document.getElementById("rhythm-1").addEventListener("click",(function(){changeTempo();const t=(new Tone.Synth).toDestination();new Tone.Part((function(e,n){t.triggerAttackRelease("E4",n.duration,e)}),rhythmLists[1]).start();Tone.Transport.start()}),!1),document.getElementById("rhythm-2").addEventListener("click",(function(){changeTempo();const t=(new Tone.Synth).toDestination();new Tone.Part((function(e,n){t.triggerAttackRelease("E4",n.duration,e)}),rhythmLists[2]).start();Tone.Transport.start()}),!1),document.getElementById("rhythm-3").addEventListener("click",(function(){changeTempo();const t=(new Tone.Synth).toDestination();new Tone.Part((function(e,n){t.triggerAttackRelease("E4",n.duration,e)}),rhythmLists[3]).start();Tone.Transport.start()}),!1),document.getElementById("rhythm-4").addEventListener("click",(function(){changeTempo();const t=(new Tone.Synth).toDestination();new Tone.Part((function(e,n){t.triggerAttackRelease("E4",n.duration,e)}),rhythmLists[4]).start();Tone.Transport.start()}),!1),document.getElementById("rhythm-5").addEventListener("click",(function(){changeTempo();const t=(new Tone.Synth).toDestination();new Tone.Part((function(e,n){t.triggerAttackRelease("E4",n.duration,e)}),rhythmLists[5]).start();Tone.Transport.start()}),!1),allDisplayVisible(),document.getElementById("forth").style.visibility="hidden";const melodyList=[];for(i=0;i<rhythmCategory.length;i++)rhythmCategory[i]=document.getElementById(`rhythm${i}`);for(i=0;i<rhythmCategory.length;i++)rhythmCategory[i].onchange=colorChange;for(i=0;i<selectRhythmCategory.length;i++)selectRhythmCategory[i]=document.getElementById(`rhythm_${i}`);function changeRhythm(){for(i=0;i<selectRhythmCategory.length;i++)switch(selectRhythmCategory[i].value){case"rhythm0":melodyList[i]=rhythmLists[0],document.querySelector(`#rhythmImg${i}`).src="img/rhythm1.png";break;case"rhythm1":melodyList[i]=rhythmLists[1],document.querySelector(`#rhythmImg${i}`).src="img/rhythm2.png";break;case"rhythm2":melodyList[i]=rhythmLists[2],document.querySelector(`#rhythmImg${i}`).src="img/rhythm3.png";break;case"rhythm3":melodyList[i]=rhythmLists[3],document.querySelector(`#rhythmImg${i}`).src="img/rhythm4.png";break;case"rhythm4":melodyList[i]=rhythmLists[4],document.querySelector(`#rhythmImg${i}`).src="img/rhythm5.png";break;case"rhythm5":melodyList[i]=rhythmLists[5],document.querySelector(`#rhythmImg${i}`).src="img/rhythm6.png"}}function colorChange(){for(i=0;i<rhythmCategory.length/4;i++)"on"==rhythmCategory[i].value?rhythmCategory[i].style.backgroundColor="lightcoral":rhythmCategory[i].style.backgroundColor="white";for(i=11;i<rhythmCategory.length/4*2;i++)"on"==rhythmCategory[i].value?rhythmCategory[i].style.backgroundColor="lightskyblue":rhythmCategory[i].style.backgroundColor="white";for(i=22;i<rhythmCategory.length/4*3;i++)"on"==rhythmCategory[i].value?rhythmCategory[i].style.backgroundColor="#ffbb00":rhythmCategory[i].style.backgroundColor="white";for(i=33;i<rhythmCategory.length/4*4;i++)"on"==rhythmCategory[i].value?rhythmCategory[i].style.backgroundColor="lightgreen":rhythmCategory[i].style.backgroundColor="white"}const woodblock="https://tatsuki-github.github.io/rhythmApp/audio/woodblock.mp3";function melody1(){const t=new Tone.Sampler({E4:woodblock}).toDestination();function e(e,n){t.triggerAttackRelease("E4",n.duration,e,3)}const n=new Array(11);for(i=0;i<n.length;i++)"on"==rhythmCategory[i].value&&(n[i]=new Tone.Part(e,melodyList[0]).start(2*i+1+"m"));new Tone.Part(e,rhythmLists[6]).start("23m")}const drum="https://tatsuki-github.github.io/rhythmApp/audio/drum.mp3";function melody2(){const t=new Tone.Sampler({E4:drum}).toDestination();function e(e,n){t.triggerAttackRelease("G4",n.duration,e,1)}const n=new Array(11);for(i=0;i<n.length;i++)"on"==rhythmCategory[i+11].value&&(n[i]=new Tone.Part(e,melodyList[1]).start(2*i+1+"m"));new Tone.Part(e,rhythmLists[6]).start("23m")}const clave="https://tatsuki-github.github.io/rhythmApp/audio/clave.wav";function melody3(){const t=new Tone.Sampler({E4:clave}).toDestination();function e(e,n){t.triggerAttackRelease("E4",n.duration,e,2.5)}const n=new Array(11);for(i=0;i<n.length;i++)"on"==rhythmCategory[i+22].value&&(n[i]=new Tone.Part(e,melodyList[2]).start(2*i+1+"m"));new Tone.Part(e,rhythmLists[6]).start("23m")}const tambourine="https://tatsuki-github.github.io/rhythmApp/audio/tambourine.mp3";function melody4(){const t=new Tone.Sampler({E4:tambourine}).toDestination();function e(e,n){t.triggerAttackRelease("E4",n.duration,e,2.5)}const n=new Array(11);for(i=0;i<n.length;i++)"on"==rhythmCategory[i+33].value&&(n[i]=new Tone.Part(e,melodyList[3]).start(2*i+1+"m"));new Tone.Part(e,rhythmLists[6]).start("23m")}const bpm75=new Tone.Player("https://tatsuki-github.github.io/rhythmApp/audio/75bpm.mp3").toDestination(),bpm95=new Tone.Player("https://tatsuki-github.github.io/rhythmApp/audio/95bpm.mp3").toDestination(),bpm115=new Tone.Player("https://tatsuki-github.github.io/rhythmApp/audio/115bpm.mp3").toDestination();function metronome(){switch(tempo_category.value){case"tempo75":bpm75.autostart=!0,bpm75.start();break;case"tempo115":bpm115.autostart=!0,bpm115.start();break;default:bpm95.autostart=!0,bpm95.start()}}</script></body></html>